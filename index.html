<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NiniÂ´s Geburtstagsquiz ðŸ¥³</title>
  <!-- Confetti Library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js" defer></script>
  <style>
    *, *::before, *::after { box-sizing: border-box; }
    body { margin: 0; padding: 0; background: #121212; color: #e0e0e0; font-family: Arial, sans-serif; }
    /* Waves Background */
    .wave { position: absolute; left: 50%; bottom: 0; width: 200%; height: 100px; background: rgba(255,255,255,0.05); border-radius: 40% 50%; transform: translateX(-50%); animation: waveAnim 6s infinite linear; pointer-events: none; }
    .wave:nth-of-type(2) { animation-duration: 8s; opacity: 0.7; }
    @keyframes waveAnim { 0% { transform: translateX(-50%) translateY(0); } 50% { transform: translateX(-50%) translateY(-20px); } 100% { transform: translateX(-50%) translateY(0); } }
    /* App Container */
    #app { position: relative; z-index: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; padding: 1rem; }
    #clue, #final-message { display: none; }
    .card { background: #1e1e1e; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.5); width: 100%; max-width: 480px; text-align: center; margin-bottom: 1rem; }
    h1 { font-size: 1.5rem; margin-bottom: 1rem; }
    p { font-size: 1rem; margin: 0.5rem 0; }
    p.hint { font-size: 0.85rem; color: #aaa; }
    input[type="text"], input[type="password"] { width: 100%; padding: 0.75rem; margin: 0.5rem 0; background: #2e2e2e; color: #e0e0e0; border: 1px solid #555; border-radius: 4px; font-size: 1rem; transition: box-shadow 0.3s; }
    input:focus { box-shadow: 0 0 5px #1DB954; }
    button { background: #1DB954; color: #fff; border: none; padding: 0.75rem; font-size: 1rem; border-radius: 4px; cursor: pointer; margin: 0.5rem 0; width: 100%; transition: background 0.3s, transform 0.2s; }
    button:hover { background: #17a74a; transform: scale(1.02); }
    .option-btn { background: #333; color: #e0e0e0; margin: 0.25rem 0; padding: 0.5rem; border-radius: 4px; border: none; width: 100%; text-align: left; transition: background 0.3s; }
    .option-btn:hover { background: #444; }
    #feedback { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: none; justify-content: center; align-items: center; background: rgba(0,0,0,0.5); color: #fff; font-size: 2rem; font-weight: bold; z-index: 1000; pointer-events: none; }
    .fade-in { animation: fadeIn 0.5s ease-out; }
    .fade-out { animation: fadeOut 0.5s ease-out forwards; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
  </style>
</head>
<body>
  <div class="wave"></div>
  <div class="wave"></div>
  <div id="feedback"></div>
  <div id="app">
    <div id="loginDiv" class="card">
      <h1>NiniÂ´s Geburtstagsquiz ðŸ¥³</h1>
      <p>Bitte Passwort eingeben:</p>
      <input type="password" id="passwordInput" placeholder="Passwort">
      <p class="hint">Bitte nicht googeln, nur wenn du WIRKLICH nicht weiterkommst</p>
      <button id="loginBtn">Einloggen</button>
    </div>
    <div id="clue" class="card">
      <h1>Frage <span id="step-number">0</span> von <span id="total-steps">0</span></h1>
      <p id="clue-text"></p>
      <div id="options-container"></div>
      <input type="text" id="answerInput" placeholder="Deine Antwort">
      <button id="answerBtn">ÃœberprÃ¼fen</button>
      <button id="restartBtn">Quiz neu starten</button>
    </div>
    <div id="final-message" class="card">
      <canvas id="confetti-canvas" style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;"></canvas>
      <h1>Herzlichen GlÃ¼ckwunsch!</h1>
      <p>Alles Gute zum Geburtstag, Nini! ðŸŽ‰</p>
      <p>Du hast dein Geschenk entdeckt: Zugang zum <strong>Spotify Duo Abo</strong> ðŸŽ¶</p>
      <p>Schreib mir einfach deine E-Mail und ich fÃ¼ge dich hinzu!</p>
      <button id="restartBtn">Quiz neu starten</button>
    </div>
  </div>
  <script defer>
    window.addEventListener('DOMContentLoaded', function() {
      const loginDiv = document.getElementById('loginDiv');
      const clueDiv = document.getElementById('clue');
      const finalDiv = document.getElementById('final-message');
      const pwdInput = document.getElementById('passwordInput');
      const loginBtn = document.getElementById('loginBtn');
      const clueText = document.getElementById('clue-text');
      const optionsContainer = document.getElementById('options-container');
      const answerInput = document.getElementById('answerInput');
      const answerBtn = document.getElementById('answerBtn');
      const stepNum = document.getElementById('step-number');
      const totalSteps = document.getElementById('total-steps');
      const feedback = document.getElementById('feedback');
      const restartButtons = document.querySelectorAll('#restartBtn');
      const confettiCanvas = document.getElementById('confetti-canvas');
      const confetti = window.confetti ? window.confetti.create(confettiCanvas, { resize: true }) : null;

      function showFeedback(ok, msg) {
        feedback.textContent = msg;
        feedback.style.backgroundColor = ok ? 'rgba(0,128,0,0.8)' : 'rgba(255,0,0,0.8)';
        feedback.classList.remove('fade-in', 'fade-out'); void feedback.offsetWidth;
        feedback.classList.add('fade-in'); feedback.style.display = 'flex';
        setTimeout(() => { feedback.classList.remove('fade-in'); void feedback.offsetWidth; feedback.classList.add('fade-out'); setTimeout(() => feedback.style.display = 'none', 500); }, 1000);
      }

      const SECRET = '123';
      const clues = [
        { text: 'Wie heiÃŸt BoyWithUkes berÃ¼hmtester Song?', type: 'text', check: ans => ans.trim().toLowerCase() === 'toxic' },
        { text: 'Wie viele Herzen hat ein Oktopus?', type: 'text', check: ans => ans.trim() === '3' },
        { text: 'Sub Urban ist bekannt fÃ¼r seinen...', type: 'mc', options: ['experimentellen Sound','Gitarrenstil','Country-Vibe','YouTube-Vlogs'], answer: 'experimentellen sound' },
        { text: 'Wann habe ich dir das erste Mal geschrieben?', type: 'mc', options: ['29. Mai 2024','25. Juli 2024','05. Juli 2024','02. Juni 2024'], answer: '05. juli 2024' },
        { text: 'Was ist das Ziel dieses Quizzes?', type: 'text', check: ans => /geschenk/i.test(ans.trim().toLowerCase()) },
        { text: 'BoyWithUkes Musikstil ist eine Mischung ausâ€¦?', type: 'mc', options: ['Indie + Lo-Fi + Pop','Techno + Schlager','Rock + Rap','Jazz + Country'], answer: 'indie + lo-fi + pop' },
        { text: 'Wie alt wirst du?', type: 'text', check: ans => ans.trim() === '19' },
        { text: 'Was ist oft Thema in Sub Urbans Musikvideos?', type: 'mc', options: ['Strand und Sonne','Surreale / dÃ¼stere Bilder','Autos und Geld','Katzen in AnzÃ¼gen'], answer: 'surreale / dÃ¼stere bilder' },
        { text: 'Wie oft haben wir schon gecallt?', type: 'text', check: ans => ans.trim() === '1' },
        { text: 'Wie heiÃŸt Sub Urbans bÃ¼rgerlicher Name?', type: 'text', check: ans => ans.trim().toLowerCase().startsWith('daniel') },
        { text: 'Auf welcher Plattform hat BoyWithUke zuerst an PopularitÃ¤t gewonnen?', type: 'mc', options: ['TikTok','YouTube','SoundCloud','Instagram'], answer: 'tiktok' },
        { text: 'In welchem Jahr wurde Spotify offiziell gestartet?', type: 'text', check: ans => ans.trim() === '2008' },
        { text: 'Wie teuer ist Spotify Premium?', type: 'text', check: ans => /^(10[.,]?99â‚¬?|11â‚¬?|elf)$/i.test(ans.trim()) },
        { text: 'Wie hieÃŸ meine erste Katze?', type: 'mc', options: ['Liza','Lina','Lanna','Lana'], answer: 'liza' },
        { text: 'AHHHHHHHHHHHHHHH', type: 'text', check: ans => ans.trim().toUpperCase() === 'AHHHHHHHHHHHHHHH' }
      ];
      totalSteps.textContent = clues.length;

      let step = 0;
      loginDiv.style.display = 'block'; clueDiv.style.display = 'none'; finalDiv.style.display = 'none';

      loginBtn.addEventListener('click', () => {
        if (pwdInput.value === SECRET) { loginDiv.style.display = 'none'; showClue(); }
        else { showFeedback(false, 'FALSCH!'); }
      });

      restartButtons.forEach(btn => btn.addEventListener('click', () => {

        step = 0; loginDiv.style.display = 'none'; clueDiv.style.display = 'block'; finalDiv.style.display = 'none'; showClue();
      }));

      function showClue() {
        if (step >= clues.length) {
          clueDiv.style.display = 'none'; finalDiv.style.display = 'block'; if (confetti) confetti({ particleCount: 200, spread: 70, origin: { y: 0.6 } }); return;
        }
        stepNum.textContent = step + 1;
        clueText.textContent = clues[step].text;
        optionsContainer.innerHTML = '';
        if (clues[step].type === 'mc') {
          answerInput.style.display = 'none'; answerBtn.style.display = 'none';
          clues[step].options.forEach(opt => {
            const btn = document.createElement('button'); btn.textContent = opt; btn.className = 'option-btn';
            btn.addEventListener('click', () => {
              const ok = opt.trim().toLowerCase() === clues[step].answer;
              if (ok) { showFeedback(true, 'RICHTIG!'); setTimeout(() => { step++; showClue(); }, 1000); }
              else { showFeedback(false, 'FALSCH!'); }
            }); optionsContainer.appendChild(btn);
          });
        } else {
          answerInput.style.display = 'block'; answerBtn.style.display = 'block';
        }
        clueDiv.style.display = 'block';
      }

      answerBtn.addEventListener('click', () => {
        const cur = clues[step]; const ok = cur.check(answerInput.value);
        if (ok) { showFeedback(true, 'RICHTIG!'); setTimeout(() => { step++; answerInput.value = ''; showClue(); }, 1000); }
        else { showFeedback(false, 'FALSCH!'); }
      });
    });
  </script>
</body>
</html>
